(()=>{var e={};e.id=282,e.ids=[282],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},83054:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>p,pages:()=>u,routeModule:()=>c,tree:()=>d});var n=r(70260),a=r(28203),i=r(25155),s=r.n(i),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d=["",{children:["ViewCarDetails",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,83805)),"C:\\Users\\chaku\\OneDrive\\Desktop\\FreeLance\\CarFinance WEB\\CarFinanceFrontendWeb\\src\\app\\ViewCarDetails\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,50919))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\chaku\\OneDrive\\Desktop\\FreeLance\\CarFinance WEB\\CarFinanceFrontendWeb\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,50919))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\chaku\\OneDrive\\Desktop\\FreeLance\\CarFinance WEB\\CarFinanceFrontendWeb\\src\\app\\ViewCarDetails\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},c=new n.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/ViewCarDetails/page",pathname:"/ViewCarDetails",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},38420:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,13219,23)),Promise.resolve().then(r.t.bind(r,34863,23)),Promise.resolve().then(r.t.bind(r,25155,23)),Promise.resolve().then(r.t.bind(r,40802,23)),Promise.resolve().then(r.t.bind(r,9350,23)),Promise.resolve().then(r.t.bind(r,48530,23)),Promise.resolve().then(r.t.bind(r,88921,23))},91156:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,66959,23)),Promise.resolve().then(r.t.bind(r,33875,23)),Promise.resolve().then(r.t.bind(r,88903,23)),Promise.resolve().then(r.t.bind(r,57174,23)),Promise.resolve().then(r.t.bind(r,84178,23)),Promise.resolve().then(r.t.bind(r,87190,23)),Promise.resolve().then(r.t.bind(r,61365,23))},21472:()=>{},85024:()=>{},74668:(e,t,r)=>{Promise.resolve().then(r.bind(r,83805))},80748:(e,t,r)=>{Promise.resolve().then(r.bind(r,52417))},52417:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(45512),a=r(58009),i=r(79334),s=r(85668),o=r(56257),l=r.n(o),d=r(85672),u=r(45103);let p=()=>{let[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)(!0),p=d.dr.UserName,g=(0,i.useRouter)(),m=d.dr.TempforViewing,[h,x]=(0,a.useState)(""),[v,f]=(0,a.useState)(""),[b,y]=(0,a.useState)(""),[w,C]=(0,a.useState)(""),[j,_]=(0,a.useState)(""),[P,S]=(0,a.useState)(""),[D,k]=(0,a.useState)("");(0,a.useEffect)(()=>{let e=d.dr.TempforViewing;if(!e){window.alert("No vehicle ID found"),o(!1);return}(async()=>{try{let r=await fetch(`http://15.207.48.53:3000/searchById?id=${encodeURIComponent(e)}`),n=await r.json();0===n.length?window.alert("No details found for this vehicle"):(t(n[0]),f(n[0].agreed_amount.toString()),y(n[0].issued_to),x(n[0].received_amount.toString()),k(n[0].date),S(n[0].driver_expense.toString()),C(n[0].fuel_expense.toString()),_(n[0].maintenance.toString()))}catch(e){console.error("Error fetching data:",e),window.alert("Error fetching data: "+e.message)}finally{o(!1)}})()},[]);let I=async()=>{try{let e={};void 0!==v&&(e.agreed_amount=parseInt(v)),void 0!==h&&(e.received_amount=parseInt(h)),void 0!==w&&(e.fuel_expense=parseInt(w)),void 0!==j&&(e.maintenance=parseInt(j)),void 0!==P&&(e.driver_expense=parseInt(P)),void 0!==b&&(e.issued_to=b),void 0!==D&&(e.date=D);let t=await s.A.put(`http://15.207.48.53:3000/updateCarDetails/${m}`,e);200===t.status?(window.alert("Car details updated successfully."),g.back()):window.alert("Failed to update car details.")}catch(e){console.error("Error updating car details:",e.response?.data||e.message),window.alert("An error occurred while updating car details.")}},L=l()(D,"DD/MM/YYYY").format("YYYY-MM-DD"),A=async()=>{try{let e=(w?parseInt(w):0)+(P?parseInt(P):0)+(j?parseInt(j):0),t={vehicle_number:m,agreed_amount:parseInt(v)||0,issued_to:b||"N/A",total_expenses:e,cleared_date:L},r=await s.A.post("http://15.207.48.53:3000/saveClearedDetails",t);200===r.status?(window.alert("Details saved successfully."),y("N/A"),f("0"),x("0"),C("0"),_("0"),S("0")):window.alert("Failed to save details.")}catch(e){console.error("Error saving cleared details:",e.response?.data||e.message),window.alert("Vehicle is already cleared.")}},F=()=>{let t=v||(e?e.agreed_amount.toString():"0"),r=h||(e?e.received_amount.toString():"0");return parseInt(t,10)-parseInt(r,10)},T=async()=>{let e=F();if(e>0)try{let t=await s.A.post("http://15.207.48.53:3000/processPendingAmount",{vehicleId:m,pending_amount:e,customer_name:b});if(200===t.status||201===t.status)window.alert("Pending amount processed successfully."),await A(),y("N/A"),f("0"),x("0"),C("0"),_("0"),S("0");else{let e=t.data.message;window.alert("Failed to process pending amount: "+e)}}catch(e){console.error("Error processing pending amount:",e.response?.data||e.message),window.alert("An error occurred while processing pending amount: "+(e.response?.data.message||e.message))}else window.alert("Pending amount must be greater than zero.")},E=async()=>{window.confirm("Did customer pay the full amount? (OK for Yes, Cancel for No)")?await A():await T()};return r?(0,n.jsx)("p",{children:"Loading..."}):e?(0,n.jsxs)("div",{style:{padding:"20px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(u.default,{src:"/images/usericon.png",alt:"User Icon",width:50,height:50,style:c.usrimg,className:"rounded-full"}),(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:-15,marginTop:10},children:[(0,n.jsx)("p",{style:c.helloname,children:"Hello,"}),(0,n.jsx)("br",{}),(0,n.jsx)("p",{style:c.username,children:p})]}),(0,n.jsx)(u.default,{src:"/images/Logout.png",alt:"logout",width:25,height:25,style:c.logoutimg})]}),(0,n.jsx)("div",{style:{margin:"25px",borderBottom:"1px solid black"}}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u.default,{src:"/images/Car.png",alt:"Car",width:25,height:25,style:c.carlogo}),(0,n.jsx)("p",{style:c.headingOfHomePage,children:"Vehicle Details"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{style:c.innertextbelowHeadings,children:["Name of Vehicle :",(0,n.jsx)("br",{})]}),(0,n.jsx)("input",{style:c.input,value:e.name_of_vehicle,placeholder:e.name_of_vehicle,readOnly:!0}),(0,n.jsxs)("p",{style:c.innertextbelowHeadings,children:["Vehicle Number :",(0,n.jsx)("br",{})]}),(0,n.jsx)("input",{style:c.input,value:m||"",placeholder:m||"",readOnly:!0}),(0,n.jsxs)("p",{style:c.innertextbelowHeadings,children:["Issued To :",(0,n.jsx)("br",{})]}),(0,n.jsx)("input",{style:c.input,value:b,placeholder:"Event/Person Name",onChange:e=>y(e.target.value)}),(0,n.jsxs)("p",{style:c.innertextbelowHeadings,children:["Agreed Amount :",(0,n.jsx)("br",{})]}),(0,n.jsx)("input",{style:c.billinginput,value:v,placeholder:e.agreed_amount?e.agreed_amount.toString():"",onChange:e=>f(e.target.value),type:"number"}),(0,n.jsxs)("p",{style:c.innertextbelowHeadings,children:["Received Amount :",(0,n.jsx)("br",{})]}),(0,n.jsx)("input",{style:c.billinginput,value:h,placeholder:e.received_amount?e.received_amount.toString():"",onChange:e=>x(e.target.value),type:"number"}),(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("p",{style:{fontSize:15,marginLeft:950},children:"Date :"}),(0,n.jsx)("input",{style:{width:"30%",height:40,border:"1px solid gray",borderRadius:20,padding:"0 15px",backgroundColor:"#d3d3d3"},value:D,placeholder:e.date,onChange:e=>k(e.target.value)})]})]}),(0,n.jsxs)("div",{style:{marginTop:"20px"},children:[(0,n.jsx)("p",{style:{marginLeft:40,fontSize:15,marginBottom:-15},children:"Driver Expense :"}),(0,n.jsx)("input",{style:{width:"30%",height:30,border:"1px solid gray",borderRadius:10,padding:"0 15px",backgroundColor:"#d3d3d3",marginLeft:180,marginTop:-30,fontSize:13},value:P,placeholder:e.driver_expense?e.driver_expense.toString():"",onChange:e=>S(e.target.value),type:"number"}),(0,n.jsx)("p",{style:c.otherexpensetext,children:"Fuel Expense :"}),(0,n.jsx)("input",{style:{width:"40%",height:30,border:"1px solid gray",borderRadius:10,padding:"0 15px",backgroundColor:"#d3d3d3",marginLeft:180,marginTop:-10,fontSize:13},value:w,placeholder:e.fuel_expense?e.fuel_expense.toString():"",onChange:e=>C(e.target.value),type:"number"}),(0,n.jsx)("p",{style:c.otherexpensetext,children:"Maintenance :"}),(0,n.jsx)("input",{style:{width:"40%",height:30,border:"1px solid gray",borderRadius:10,padding:"0 15px",backgroundColor:"#d3d3d3",marginLeft:180,marginTop:2,fontSize:13},value:j,placeholder:e.maintenance?e.maintenance.toString():"",onChange:e=>_(e.target.value),type:"number"})]}),(0,n.jsxs)("p",{style:{fontSize:18,marginLeft:20,marginTop:20},children:["Pending Amount : Rs.",F()]}),(0,n.jsx)("div",{style:c.savebutton,children:(0,n.jsx)("button",{onClick:()=>{window.confirm("Do you want to save the details?")&&I()},style:{padding:"10px 20px",backgroundColor:"#841584",color:"white",border:"none",borderRadius:5},children:"Save"})}),(0,n.jsx)("div",{style:{marginLeft:215,marginTop:-45,width:"40%"},children:(0,n.jsx)("button",{onClick:E,style:{padding:"10px 20px",backgroundColor:"#841584",color:"white",border:"none",borderRadius:5},children:"Clear"})})]}):(0,n.jsx)("div",{style:c.container,children:(0,n.jsx)("p",{style:c.error,children:"No details available for this vehicle."})})},c={username:{marginTop:-30,marginLeft:90,fontSize:16,fontWeight:"bold",color:"darkslategrey"},helloname:{marginTop:-50,marginLeft:90,fontSize:14},usrimg:{marginLeft:20,marginTop:20,width:"40px",height:"40px"},logoutimg:{marginTop:-30,marginLeft:1400,width:25,height:25},carlogo:{marginTop:10,marginLeft:20},headingOfHomePage:{marginLeft:60,marginTop:-28,fontSize:20,fontWeight:"500"},innertextbelowHeadings:{marginLeft:40,marginTop:9,fontSize:15},input:{width:"80%",height:40,border:"1px solid gray",borderRadius:20,padding:"0 20px",marginBottom:7,marginLeft:40,backgroundColor:"#d3d3d3"},billinginput:{width:"40%",height:35,border:"1px solid gray",borderRadius:20,padding:"0 20px",paddingBottom:6,marginBottom:7,marginLeft:40,backgroundColor:"#d3d3d3"},otherexpensetext:{marginTop:10,marginLeft:40,fontSize:15},savebutton:{width:"40%",marginLeft:30,marginTop:40,marginBottom:10},container:{display:"flex",justifyContent:"flex-start",alignItems:"center",flexDirection:"row",width:150,marginTop:5,margin:"0 auto"},error:{color:"red"}}},85672:(e,t,r)=>{"use strict";r.d(t,{K6:()=>i,dr:()=>n,jI:()=>a});let n={TempforViewing:null,totalPendingAmount:0,UserName:"OmSai",totalCount:0},a=()=>{try{let e=localStorage.getItem("totalPendingAmount"),t=localStorage.getItem("totalCount");null!==e&&(n.totalPendingAmount=Number(e)),null!==t&&(n.totalCount=Number(t))}catch(e){console.error("Error loading global state:",e)}},i=()=>{try{localStorage.setItem("totalPendingAmount",String(n.totalPendingAmount)),localStorage.setItem("totalCount",String(n.totalCount))}catch(e){console.error("Error saving global state:",e)}}},83805:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\chaku\\\\OneDrive\\\\Desktop\\\\FreeLance\\\\CarFinance WEB\\\\CarFinanceFrontendWeb\\\\src\\\\app\\\\ViewCarDetails\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\chaku\\OneDrive\\Desktop\\FreeLance\\CarFinance WEB\\CarFinanceFrontendWeb\\src\\app\\ViewCarDetails\\page.tsx","default")},71354:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d,metadata:()=>l});var n=r(62740),a=r(22376),i=r.n(a),s=r(68726),o=r.n(s);r(61135);let l={title:"Create Next App",description:"Generated by create next app"};function d({children:e}){return(0,n.jsx)("html",{lang:"en",children:(0,n.jsx)("body",{className:`${i().variable} ${o().variable} antialiased`,children:e})})}},50919:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)("/webbuild",await e.params,"favicon.ico")+""}]},61135:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,779,77,103,668,926],()=>r(83054));module.exports=n})();