(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{9164:(e,t,a)=>{Promise.resolve().then(a.bind(a,3583))},6046:(e,t,a)=>{"use strict";var r=a(6658);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},3583:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(5155),s=a(2115),n=a(2651),o=a(6046),c=a(5565);let l=()=>{let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(""),[i,u]=(0,s.useState)([]),d=(0,o.useRouter)();(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await n.A.get("http://15.207.48.53:3000/allgeneratorquotations");t(e.data),u(e.data)}catch(e){console.error("Error fetching invoices:",e)}},h=async()=>{if(!a){alert("Please enter a customer name.");return}try{let e=await n.A.get("http://15.207.48.53:3000/generator-quotations/customer/".concat(a));u(e.data)}catch(e){console.error("Error searching invoices:",e),alert("No invoices found for this customer.")}},p=e=>new Date(e).toISOString().replace("T"," ").slice(0,19),x=(e,t)=>{let a=encodeURIComponent(p(t));window.open("http://15.207.48.53:3000/generator-quotations/".concat(e,"/").concat(a,"/download"),"_blank")};return(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,r.jsx)(c.default,{src:"/images/usericon.png",alt:"User Icon",width:50,height:50,className:"rounded-full"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-500 text-sm",children:"Hello,"}),(0,r.jsx)("p",{className:"text-lg font-bold text-gray-700",children:"OmSai"})]})]}),(0,r.jsx)("p",{className:"font-bold mb-4",children:"Generator Quotations"}),(0,r.jsx)("button",{onClick:()=>d.push("/generateGeneratorQuotation"),className:"bg-purple-700 text-white px-4 py-2 rounded-lg mb-6",children:"New Quotation"}),(0,r.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search by customer name",value:a,onChange:e=>l(e.target.value),className:"border p-2 rounded w-full"}),(0,r.jsx)("button",{onClick:h,className:"bg-purple-700 text-white px-4 py-2 rounded-lg",children:"Search"})]}),(0,r.jsx)("div",{children:i.map((e,t)=>(0,r.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100 mb-4",children:[(0,r.jsxs)("p",{className:"text-lg font-semibold",children:["Customer: ",e.customer_name]}),(0,r.jsx)("p",{className:"text-gray-600",children:new Date(e.created_at).toLocaleString()}),(0,r.jsx)("button",{onClick:()=>x(e.customer_name,e.created_at),className:"bg-gray-800 text-white px-4 py-2 rounded-lg mt-3",children:"Download"})]},t))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[565,651,441,517,358],()=>t(9164)),_N_E=e.O()}]);