(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[353],{4779:(e,t,n)=>{Promise.resolve().then(n.bind(n,2448))},6046:(e,t,n)=>{"use strict";var l=n(6658);n.o(l,"useRouter")&&n.d(t,{useRouter:function(){return l.useRouter}}),n.o(l,"useSearchParams")&&n.d(t,{useSearchParams:function(){return l.useSearchParams}})},2448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var l=n(5155),r=n(2115),a=n(2651),o=n(6046),d=n(5565);let i=()=>{let[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(""),[c,h]=(0,r.useState)(""),[p,x]=(0,r.useState)(""),[u,m]=(0,r.useState)([]),[y,g]=(0,r.useState)(""),[b,j]=(0,r.useState)(""),[C,w]=(0,r.useState)(""),v=(0,o.useRouter)(),f=e=>{let t="\n      <html>\n        <head>\n          <title>GST Billing Ledger</title>\n          <style>\n            table { width: 100%; border-collapse: collapse; }\n            table, th, td { border: 1px solid black; }\n            th, td { padding: 8px; text-align: center; }\n          </style>\n        </head>\n        <body>\n          <h1>GST Billing Ledger</h1>\n          <table>\n            <tr>\n              <th>Date</th>\n              <th>Invoice No</th>\n              <th>Customer Name</th>\n              <th>Contact No</th>\n              <th>Company</th>\n              <th>Payment Status</th>\n              <th>Payment Method</th>\n              <th>Total Amount</th>\n              <th>Total Paid</th>\n              <th>Due</th>\n            </tr>\n            ".concat(e.map(e=>"\n              <tr>\n                <td>".concat(e.Date||"-","</td>\n                <td>").concat(e.InvoiceNo||"-","</td>\n                <td>").concat(e.CustomerName||"-","</td>\n                <td>").concat(e.ContactNumber||"-","</td>\n                <td>").concat(e.Company||"Om Sai Enterprises","</td>\n                <td>").concat(e.PaymentStatus||"Due","</td>\n                <td>").concat(e.PaymentMethod||"None","</td>\n                <td>").concat(e.TotalAmount||0,"</td>\n                <td>").concat(e.TotalPaid||0,"</td>\n                <td>").concat(e.Due||0,"</td>\n              </tr>\n            ")).join(""),"\n          </table>\n        </body>\n      </html>\n    "),n=window.open("","_blank");n?(n.document.write(t),n.document.close(),n.focus(),n.print(),n.close(),window.alert("PDF Exported")):window.alert("Popup blocked. Please allow popups for this website.")},S=()=>{a.A.get("http://15.207.48.53:3000/nongstcustomer").then(e=>{m(e.data.map(e=>({label:e.name,value:e.name})))}).catch(e=>console.error("Error fetching customer names:",e))},P=e=>{let t="";"Due payments"===e?t="Due":"Partial payments"===e?t="Partial":"Paid"===e&&(t="Paid"),b!==t&&j(t)};(0,r.useEffect)(()=>{S()},[]);let A=(e,t)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{...s.cell,textAlign:"center"},children:e.Date||"-"}),(0,l.jsx)("td",{style:{...s.cell,minWidth:70,maxWidth:70},children:e.InvoiceNo||"-"}),(0,l.jsx)("td",{style:{...s.cell,minWidth:180,maxWidth:180,textAlign:"center"},children:e.CustomerName||"-"}),(0,l.jsx)("td",{style:{...s.cell,minWidth:101,maxWidth:120},children:e.ContactNumber||"-"}),(0,l.jsx)("td",{style:{...s.cell,minWidth:120,maxWidth:151},children:e.Company||"Om Sai Enterprises"}),(0,l.jsx)("td",{style:{...s.cell,width:120},children:e.PaymentStatus||"Due"}),(0,l.jsx)("td",{style:{...s.cell,width:120},children:e.PaymentMethod||"None"}),(0,l.jsx)("td",{style:{...s.cell,minWidth:120},children:e.TotalAmount||0}),(0,l.jsx)("td",{style:{...s.cell,minWidth:120},children:e.TotalPaid||0}),(0,l.jsx)("td",{style:{...s.cell,minWidth:120},children:e.Due||0})]},t);return(0,l.jsxs)("div",{style:s.container,children:[(0,l.jsxs)("div",{style:s.headerContainer,children:[(0,l.jsx)(d.default,{style:s.usrimg,src:"/images/usericon.png",alt:"User Icon",width:50,height:50}),(0,l.jsxs)("div",{style:s.userInfo,children:[(0,l.jsx)("p",{style:s.helloname,children:"Hello,"}),(0,l.jsx)("p",{style:s.username,children:"OmSai"})]})]}),(0,l.jsx)("div",{style:s.separator}),(0,l.jsx)("div",{style:{marginLeft:10,marginBottom:10},children:(0,l.jsx)("p",{children:"OmSai Generators"})}),(0,l.jsxs)("div",{style:s.buttonContainer,children:[(0,l.jsx)("button",{style:s.payment_exportButton,onClick:()=>v.push("/nonAddpaymentpopup"),children:"Add Payment"}),(0,l.jsx)("button",{style:s.payment_exportButton,onClick:()=>{let t=window.prompt('Enter export format: "excel" or "pdf" (or cancel)');(null==t?void 0:t.toLowerCase())==="excel"?window.alert("Excel export is not supported."):(null==t?void 0:t.toLowerCase())==="pdf"&&f(e)},children:"Export"})]}),(0,l.jsx)("div",{style:s.actionsContainer,children:(0,l.jsxs)("select",{value:C,onChange:e=>{w(e.target.value),P(e.target.value)},style:s.dropdown,children:[(0,l.jsx)("option",{value:"",children:"Payment Status"}),(0,l.jsx)("option",{value:"Due payments",children:"Due Payments"}),(0,l.jsx)("option",{value:"Partial payments",children:"Partial Payments"}),(0,l.jsx)("option",{value:"Paid",children:"Paid"})]})}),(0,l.jsxs)("div",{style:s.filterContainer,children:[(0,l.jsxs)("div",{style:{marginBottom:10},children:[(0,l.jsxs)("select",{value:n,onChange:e=>i(e.target.value),style:s.dropdown,children:[(0,l.jsx)("option",{value:"",children:"Select Customer"}),u.filter(e=>e.label.toLowerCase().includes(y.toLowerCase())).map((e,t)=>(0,l.jsx)("option",{value:e.value,children:e.label},t))]}),(0,l.jsx)("input",{type:"text",placeholder:"Search Customer",value:y,onChange:e=>g(e.target.value),style:{...s.input,marginTop:5}})]}),(0,l.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:10},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"Start Date:"}),(0,l.jsx)("input",{type:"date",value:c,onChange:e=>h(e.target.value),style:s.input})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{children:"End Date:"}),(0,l.jsx)("input",{type:"date",value:p,onChange:e=>x(e.target.value),style:s.input})]})]}),(0,l.jsx)("button",{style:s.button,onClick:()=>{let l="http://15.207.48.53:3000/nongstbillingledger?";n&&(l+="customer_name=".concat(n,"&")),c&&(l+="start_date=".concat(c,"&")),p&&(l+="end_date=".concat(p,"&")),b&&(l+="payment_status=".concat(b,"&")),a.A.get(l).then(n=>{JSON.stringify(n.data)!==JSON.stringify(e)&&t(n.data)}).catch(e=>console.error("Error fetching ledger data:",e))},children:"Search"})]}),(0,l.jsx)("div",{style:{overflowX:"auto"},children:(0,l.jsxs)("table",{style:s.table,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{style:{...s.row,...s.headerRow},children:[(0,l.jsx)("th",{style:{...s.headerCell,width:143,textAlign:"center"},children:"Date"}),(0,l.jsx)("th",{style:{...s.headerCell,width:70,textAlign:"center"},children:"Invoice No"}),(0,l.jsx)("th",{style:{...s.headerCell,width:180,textAlign:"center"},children:"Customer Name"}),(0,l.jsx)("th",{style:{...s.headerCell,width:120,textAlign:"center"},children:"Contact No"}),(0,l.jsx)("th",{style:{...s.headerCell,width:151,textAlign:"center"},children:"Company"}),(0,l.jsx)("th",{style:{...s.headerCell,width:151,textAlign:"center"},children:"Payment Status"}),(0,l.jsx)("th",{style:{...s.headerCell,width:151,textAlign:"center"},children:"Payment Method"}),(0,l.jsx)("th",{style:{...s.headerCell,width:151,textAlign:"center"},children:"Total Amount"}),(0,l.jsx)("th",{style:{...s.headerCell,width:151,textAlign:"center"},children:"Total Paid"}),(0,l.jsx)("th",{style:{...s.headerCell,width:151,textAlign:"center"},children:"Due"})]})}),(0,l.jsx)("tbody",{children:e.map((e,t)=>A(e,t))})]})})]})},s={container:{padding:"15px",fontFamily:"Arial, sans-serif"},headerContainer:{display:"flex",alignItems:"center",marginBottom:"20px"},usrimg:{width:"50px",height:"50px",borderRadius:"20px"},userInfo:{marginLeft:"10px"},helloname:{fontSize:"14px",color:"gray",margin:0},username:{fontSize:"18px",fontWeight:"bold",color:"darkslategrey",margin:0},separator:{margin:"5px 0",borderBottom:"1px solid black"},buttonContainer:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},payment_exportButton:{backgroundColor:"#841584",color:"white",padding:"12px 20px",border:"none",borderRadius:"10px",flex:1,margin:"0 5px",cursor:"pointer"},actionsContainer:{marginBottom:"10px"},dropdown:{height:"40px",borderColor:"#ccc",borderWidth:"1px",borderStyle:"solid",borderRadius:"5px",paddingLeft:"10px",width:"100%",marginBottom:"10px"},filterContainer:{backgroundColor:"white",padding:"5px",borderRadius:"5px",marginBottom:"20px"},input:{fontSize:"14px",padding:"5px",marginTop:"5px",border:"1px solid #ccc",borderRadius:"5px"},button:{backgroundColor:"#841584",color:"white",padding:"12px 30px",border:"none",borderRadius:"10px",cursor:"pointer"},table:{borderCollapse:"collapse",width:"100%"},row:{borderBottom:"1px solid #ccc"},headerRow:{backgroundColor:"#d3d3d3"},cell:{padding:"10px",textAlign:"center",border:"1px solid #ccc",wordWrap:"break-word"},headerCell:{fontWeight:"bold",padding:"10px",textAlign:"center",border:"1px solid #ccc",color:"#000"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[565,651,441,517,358],()=>t(4779)),_N_E=e.O()}]);