(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[341],{6429:(e,t,n)=>{Promise.resolve().then(n.bind(n,8090))},6046:(e,t,n)=>{"use strict";var a=n(6658);n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},8090:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var a=n(5155),l=n(2115),o=n(6046),s=n(5565);let r=()=>{let e=(0,o.useRouter)(),[t,n]=(0,l.useState)([]),[r,c]=(0,l.useState)(!1),[d,u]=(0,l.useState)(""),[m,h]=(0,l.useState)(""),[p,x]=(0,l.useState)(!1),[b,f]=(0,l.useState)(""),g=async()=>{try{let e=await fetch("http://15.207.48.53:3000/api/accounts");if(!e.ok){console.error("Error fetching accounts");return}let t=await e.json();n(t.accounts)}catch(e){console.error("Fetch accounts error:",e)}};(0,l.useEffect)(()=>{g()},[]);let y=async()=>{if(!d||!m||isNaN(Number(m))){alert("Please enter a valid bank name and opening balance");return}let e={name:d,opening_balance:parseFloat(m)};try{let t=await fetch("http://15.207.48.53:3000/api/accounts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();alert(e.message||"Something went wrong");return}alert("Bank account added successfully"),c(!1),u(""),h(""),g()}catch(e){console.error("API Error:",e),alert("Unable to add bank account at this time")}},j=async()=>{if(!b){alert("Please enter a valid bank name");return}try{let e=await fetch("http://15.207.48.53:3000/api/accounts",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({bankName:b})});if(!e.ok){let t=await e.json();alert(t.message||"Something went wrong");return}alert("Bank account removed successfully"),x(!1),f(""),g()}catch(e){console.error("API Error:",e),alert("Unable to remove bank account at this time")}},k=t=>{e.push("/bankAccountDetails?bankName=".concat(t))};return(0,a.jsxs)("div",{className:" m-2 p-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center p-4 ",children:[(0,a.jsx)(s.default,{className:"border border-3 rounded-lg",src:"/images/usericon.png",alt:"User Icon",width:50,height:50}),(0,a.jsxs)("div",{style:i.userInfo,children:[(0,a.jsx)("p",{style:i.helloname,children:"Hello,"}),(0,a.jsx)("p",{className:"font-semibold",children:"OmSai"})]})]}),(0,a.jsx)("button",{onClick:()=>console.log("Logout pressed"),children:(0,a.jsx)(s.default,{style:i.logoutimg,src:"/images/Logout.png",alt:"Logout",width:25,height:25})})]}),(0,a.jsx)("hr",{className:"border border-black m-2"}),(0,a.jsxs)("div",{className:"mt-5 flex justify-between px-5",children:[(0,a.jsx)("button",{style:i.topButton,onClick:()=>{c(!0)},children:(0,a.jsx)("p",{style:i.topButtonText,children:"Add New Bank"})}),(0,a.jsx)("button",{style:i.topButton,onClick:()=>{x(!0)},children:(0,a.jsx)("p",{style:i.topButtonText,children:"Remove Bank"})})]}),(0,a.jsx)("div",{className:" my-5 flex flex-col items-start ",children:t.length>0?t.map(e=>(0,a.jsx)("button",{className:"flex text-left w-full  border text-lg p-1 py-2 my-2 rounded-md bg-slate-100 hover:bg-slate-200",onClick:()=>k(e.name),children:(0,a.jsx)("p",{className:"w-full ",children:e.name})},e.id)):(0,a.jsx)("p",{style:i.noAccountsText,children:"No accounts available"})}),(0,a.jsxs)("div",{className:"flex flex-col  items-center justify-center border-2 rounded-lg shadow-lg p-2",children:[(0,a.jsx)("p",{className:"font-bold text-lg my-1",children:"Current Account Balances"}),t.length>0?t.map(e=>(0,a.jsxs)("div",{className:"flex justify-between w-full p-2 border bg-slate-50 my-2",children:[(0,a.jsx)("p",{style:i.bankName,children:e.name}),(0,a.jsxs)("p",{style:i.bankBalance,children:["Rs. ",e.current_balance]})]},e.id)):(0,a.jsx)("p",{style:i.noAccountsText,children:"No account balances available"})]}),r&&(0,a.jsx)("div",{style:i.modalOverlay,children:(0,a.jsxs)("div",{style:i.modalContainer,children:[(0,a.jsx)("p",{style:i.modalTitle,children:"Add New Bank"}),(0,a.jsx)("input",{style:i.input,placeholder:"Bank Name",value:d,onChange:e=>u(e.target.value)}),(0,a.jsx)("input",{style:i.input,placeholder:"Opening Balance",type:"number",value:m,onChange:e=>h(e.target.value)}),(0,a.jsxs)("div",{style:i.modalButtonRow,children:[(0,a.jsx)("button",{style:i.modalButton,onClick:()=>c(!1),children:(0,a.jsx)("p",{style:i.modalButtonText,children:"Cancel"})}),(0,a.jsx)("button",{style:i.modalButton,onClick:y,children:(0,a.jsx)("p",{style:i.modalButtonText,children:"Submit"})})]})]})}),p&&(0,a.jsx)("div",{style:i.modalOverlay,children:(0,a.jsxs)("div",{style:i.modalContainer,children:[(0,a.jsx)("p",{style:i.modalTitle,children:"Remove Bank"}),(0,a.jsx)("input",{style:i.input,placeholder:"Bank Name to Remove",value:b,onChange:e=>f(e.target.value)}),(0,a.jsxs)("div",{style:i.modalButtonRow,children:[(0,a.jsx)("button",{style:i.modalButton,onClick:()=>x(!1),children:(0,a.jsx)("p",{style:i.modalButtonText,children:"Cancel"})}),(0,a.jsx)("button",{style:i.modalButton,onClick:j,children:(0,a.jsx)("p",{style:i.modalButtonText,children:"Submit"})})]})]})})]})},i={userInfo:{marginLeft:10},helloname:{fontSize:16,fontWeight:"bold"},logoutimg:{marginLeft:"auto"},topButton:{padding:10,backgroundColor:"#007BFF",borderRadius:5},topButtonText:{color:"#fff"},noAccountsText:{TextAlign:"center",fontSize:16,marginTop:20},bankName:{fontSize:16},bankBalance:{fontSize:16,fontWeight:"bold"},modalOverlay:{Position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center"},modalContainer:{backgroundColor:"#fff",padding:20,borderRadius:10,width:"80%"},modalTitle:{fontSize:18,fontWeight:"bold",marginBottom:10},input:{width:"100%",padding:10,marginBottom:10,borderWidth:1,borderColor:"#ccc",borderRadius:5},modalButtonRow:{display:"flex",flexDirection:"row",justifyContent:"space-between"},modalButton:{padding:10,backgroundColor:"#007BFF",borderRadius:5},modalButtonText:{color:"#fff",fontWeight:"bold"}}}},e=>{var t=t=>e(e.s=t);e.O(0,[565,441,517,358],()=>t(6429)),_N_E=e.O()}]);