(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[259],{8887:(e,t,a)=>{Promise.resolve().then(a.bind(a,7736))},6046:(e,t,a)=>{"use strict";var s=a(6658);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},7736:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(5155),r=a(2115),n=a(2651),o=a(6046),c=a(5565);function l(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(""),[u,i]=(0,r.useState)([]),d=(0,o.useRouter)();(0,r.useEffect)(()=>{(async()=>{try{let e=await n.A.get("http://15.207.48.53:3000/allquotations");t(e.data),i(e.data)}catch(e){console.error("Error fetching quotations:",e)}})()},[]);let m=async()=>{if(!a){alert("Please enter a customer name.");return}try{let e=await n.A.get("http://15.207.48.53:3000/quotations/customer/".concat(a));i(e.data)}catch(e){console.error("Error searching quotations:",e),alert("No quotations found for this customer.")}},h=e=>new Date(e).toISOString().replace("T"," ").slice(0,19),p=(e,t)=>{let a=encodeURIComponent(h(t)),s=encodeURIComponent(e);window.open("http://15.207.48.53:3000/quotations/".concat(s,"/").concat(a,"/download"),"_blank")};return(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4 mb-6",children:[(0,s.jsx)(c.default,{src:"/images/usericon.png",alt:"User Icon",width:50,height:50,className:"rounded-full"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-500 text-sm",children:"Hello,"}),(0,s.jsx)("p",{className:"text-lg font-bold text-gray-700",children:"OmSai"})]})]}),(0,s.jsx)("button",{onClick:()=>d.push("/generateQuotation"),className:"bg-purple-700 text-white px-4 py-2 rounded-lg mb-6",children:"New Quotation"}),(0,s.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search by customer name",value:a,onChange:e=>l(e.target.value),className:"border p-2 rounded w-full"}),(0,s.jsx)("button",{onClick:m,className:"bg-purple-700 text-white px-4 py-2 rounded-lg",children:"Search"})]}),(0,s.jsx)("div",{children:u.map((e,t)=>(0,s.jsxs)("div",{className:"p-4 border rounded-lg bg-gray-100 mb-4",children:[(0,s.jsxs)("p",{className:"text-lg font-semibold",children:["Customer: ",e.customer_name]}),(0,s.jsx)("p",{className:"text-gray-600",children:new Date(e.created_at).toLocaleString()}),(0,s.jsx)("button",{onClick:()=>p(e.customer_name,e.created_at),className:"bg-gray-800 text-white px-4 py-2 rounded-lg mt-3",children:"Download"})]},t))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[565,651,441,517,358],()=>t(8887)),_N_E=e.O()}]);